<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Friend Finder</title>
    <!-- link for Bootstrap styling -->

  <link 
    rel="stylesheet" 
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" 
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" 
    crossorigin="anonymous"/>

      <!-- link for Chosen framework-->
      <link 
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css"/>

    <script
  src="https://code.jquery.com/jquery-3.3.1.js"
  integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
  crossorigin="anonymous"></script>    
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"> -->
    <!-- link for Font-Awesome icons -->


    
    <!-- script links for JQuery and Bootstrap/js packages THESE 2 ARE CORRECT-->


    <script
    src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" 
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" 
    crossorigin="anonymous"></script>
  
    <!-- <script 
    src="https://code.jquery.com/jquery-3.3.1.slim.min.js" 
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" 
    crossorigin="anonymous"></script> -->

  <!-- <script
    src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"> Was working with this -->
  <!-- </script>  -->
  <!-- <script
    src="https://code.jquery.com/jquery.js"> 
  </script>  -->
  <!-- <script
    src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js">
  </script> -->

</head>
<body>
  <div class="container">
    <div class="jumbotron">
      <div class="header1">
        <h1>Let's Get Started</h1>
      </div><hr />
      <h2 class="header2">Tell us a little about yourself...</h2>
      <h2 class="header2">What you like and what you don't like. You good with that?</h2>
      <br>
    </div>  <!-- close jumbotron-->

  <div>
    <h2>Survey Questions</h2>
    <hr>
    <h3><Strong>About You</Strong></h3>
    <h4>Name (Required)</h4>
      <input type="text" name="" id="name" class="form=control" required>
    <h4>Link to Photo Image (Required)</h4>
      <input type="text" name="" id="photo" class="form=control" required>
      <hr>

    <h3><strong>Question 1</strong></h3>
    <h4>I like to take risks if the reward is worth it.</h4>
      <select class="chosen-select" id="q1">
          <!-- style="display: none;"> -->
        <option value>Select an option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select>

    <h3><strong>Question 2</strong></h3>
    <h4>I like long walks on the beach with someone special to me.</h4>
      <select class="chosen-select" id="q2">
      <!-- style="display: none;" -->
        <option value>Select an option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select>

    <h3><strong>Question 3</strong></h3>
    <h4>I like to travel and see new places.</h4>
      <select class="chosen-select" id="q3">
    <!-- style="display: none;" -->
        <option value>Select an option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select>

    <h3><strong>Question 4</strong></h3>
    <h4>I believe everyone has some inherent goodness in them.</h4>
      <select class="chosen-select" id="q4">
      <!-- style="display: none;" -->
        <option value>Select an option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select>
   
    <h3><strong>Question 5</strong></h3>
    <h4>I prefer to find the quickest way to do things.</h4>
      <select class="chosen-select" id="q5">
    <!-- style="display: none;" -->
        <option value>Select an option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select> 
   
    <h3><strong>Question 6</strong></h3>
    <h4>I value and appreciate my family.</h4>
      <select class="chosen-select" id="q6">
    <!-- style="display: none;" -->
        <option value>Select an option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select>

    <h3><strong>Question 7</strong></h3>
    <h4>I'm a better listener than talker.</h4>
      <select class="chosen-select" id="q7">
      <!-- style="display: none;" -->
        <option value>Select an option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select>

    <h3><strong>Question 8</strong></h3>
    <h4>I think it's important to always look good in public.</h4>
      <select class="chosen-select" id="q8">
      <!-- style="display: none;" -->
        <option value>Select an option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select>

    <h3><strong>Question 9</strong></h3>
    <h4>I don't worry about relationships because I can always make new friends.</h4>
      <select class="chosen-select" id="q9">
      <!-- style="display: none;" -->
        <option value>Select an option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select>

    <h3><strong>Question 10</strong></h3>
    <h4>I'd rather be just on time versus 10 minutes early.</h4>
      <select class="chosen-select" id="q10">
      <!-- style="display: none;" -->
        <option value>Select an option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select><br><br>
      <!-- end question section -->

    <button 
      type="submit" 
      class="btn btn-primary btn-lg btn-block" 
      id="submit"
      >
      <i class="fa fa-check-circle" aria-hidden="true"></i>Submit
    </button><hr><br>

    <footer class="footer text-center">
      <div class="container">
        <p><a href="/api/friends">API Friends List</a> | 
            <a href="https://github.com/mj777n/Friend_Finder">GitHub Repo</a><br>
        </p>
      </div>    
    </footer>
    </div>  <!-- close survey div-->

  <!-- <div id="results-modal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"> -->
  <div id="myModal" class="modal hide fade"  role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"></button>
          <h2 class="modal-title">
            <strong>Your Best Match IS</strong>
          </h2>
        </div>  <!-- close modal-header-->
        <div class="modal-body">
          <h2 id="matchName"></h2>
          <img 
            id="matchImg"         
            src="https://via.placeholder.com/400x400"
            alt="Placeholder image in case user pic doesn't show"
            />
           <!-- src="assets/images/Homer_S.jpg"     -->
        </div>  <!-- close modal-body-->
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>  <!-- close modal-footer -->
      </div>  <!-- close modal-content-->
    </div>  <!-- close modal-dialog-->
  </div>  <!-- close result-modal-->
</div>  <!-- close main container-->

<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script> -->
<script type="text/javascript">
// <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js">

  $("#submit").on("click", function(event) {
    event.preventDefault();
    function validateForm() {
      var isValid = true;
      $("form-control").each(function() { 
        if ($(this).val()==="") isValid = false;  
      });
      $(".chosen-select").each(function() { 
        if ($(this).val()==="") isValid = false;  
      });
      return isValid;
    }  
    if (validateForm() === true) {
      console.log("The user inputs are all VALID");
        var user = {
            name: $("#name").val(),
            photo:$("#photo").val(),
            results: [
              $("#q1").val(),
              $("#q2").val(),
              $("#q3").val(),
              $("#q4").val(),
              $("#q5").val(),
              $("#q6").val(),
              $("#q7").val(),
              $("#q8").val(),
              $("#q9").val(),
              $("#q10").val()
            ]
        };
        // console.log(user);
        var currentURL = window.location.origin;
        $.post(currentURL+"/api/friends", user, function(data) {
          $("#matchName").text(data.name);
          console.log("Name = "+data.name);
          $("#matchImg").attr("src",data.photo);
          console.log("In line 306");
          // $("#results-modal").modal("show");
          $("#myModal").modal("toggle");
          console.log("Line 309");
        });
    } else {
      alert ("Please complete all the fields before submitting.");
    }
  });
</script>
</body>